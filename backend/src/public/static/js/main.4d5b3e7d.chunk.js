(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),o=(a(80),a(5)),l=a(6),i=a(8),m=a(7),u=a(9),d=a(12),p=a(21),h=(a(81),a(82),a(83),a(85),a(86),a(10)),f=a.n(h),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault(),localStorage.removeItem("usertoken"),a.props.history.push("/")},a.state={firstName:"",lastName:"",role:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=!1,t=!1,a=!1,n=!1,c=!1,s=!1,o=!1,l=!1,i=!1,m=!1,u=!1,p=!1,h=!1,E=!1,v=!1,g=!1;if(localStorage.usertoken){var b=localStorage.usertoken,N=f()(b);n=!0,c=!0,N.permisos.visualizarReserva&&(e=!0),N.permisos.visualizarUsuario&&(s=!0,o=!0),N.permisos.visualizarRol&&(v=!0,o=!0),N.permisos.visualizarPermiso&&(g=!0,o=!0),N.permisos.visualizarProducto&&(t=!0),N.permisos.visualizarClase&&(l=!0),N.permisos.visualizarMantenimiento&&(m=!0,i=!0),N.permisos.visualizarMaquina&&(u=!0,i=!0),N.permisos.visualizarMantenimiento&&(m=!0),N.permisos.visualizarCliente&&(h=!0,p=!0),N.permisos.visualizarProveedor&&(E=!0,p=!0)}else a=!0;var k=r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.c,{className:"nav-link",to:"/signin"},"Iniciar sesi\xf3n")),y=r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(d.c,{exact:!0,className:"nav-link dropdown-toggle",role:"button","data-toggle":"dropdown",to:"#",id:"navbarDropdownMenuLink","aria-haspopup":"true","aria-expanded":"false"},"Usuarios"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},s&&r.a.createElement(d.c,{className:"dropdown-item",to:"/signup"},"Registro"),v&&r.a.createElement(d.c,{className:"dropdown-item",to:"/rols"},"Roles"),g&&r.a.createElement(d.c,{className:"dropdown-item",to:"/permisos"},"Permisos"))),x=r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(d.c,{exact:!0,className:"nav-link dropdown-toggle",role:"button","data-toggle":"dropdown",to:"#",id:"navbarDropdownMenuLink","aria-haspopup":"true","aria-expanded":"false"},"Equipos"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},u&&r.a.createElement(d.c,{className:"dropdown-item",to:"/equipos"},"M\xe1quinas"),m&&r.a.createElement(d.c,{className:"dropdown-item",to:"/mantenimiento"},"Mantenimiento"))),C=r.a.createElement("li",{className:"nav-item active"},r.a.createElement(d.c,{className:"nav-link",to:"/"},"Inicio")),w=r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.c,{className:"nav-link",to:"#",onClick:this.handleLogout},"Salir")),S=r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(d.c,{exact:!0,className:"nav-link dropdown-toggle",role:"button","data-toggle":"dropdown",to:"#",id:"navbarDropdownMenuLink","aria-haspopup":"true","aria-expanded":"false"},"Personas"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},h&&r.a.createElement(d.c,{className:"dropdown-item",to:"/clientes"},"Clientes"),E&&r.a.createElement(d.c,{className:"dropdown-item",to:"/proveedores"},"Proveedores"))),j=r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.c,{className:"nav-link",to:"/products"},"Productos")),O=r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.c,{className:"nav-link",to:"/reservas"},"Reservas")),M=r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.c,{className:"nav-link",to:"/clases"},"Clases"));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#000f29"}},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{className:"navbar-brand",to:"/"},"SoftGym"),r.a.createElement("ul",{className:"navbar-nav"},a&&k,n&&C,e&&O,l&&M,i&&x,p&&S,t&&j,o&&y,c&&w))))}}]),t}(n.Component),v=Object(p.f)(E),g=a(1),b=a.n(g),N=a(4),k=a(3),y=a.n(k),x=a(2),C=function(e){var t=e.handleSubmit,a={},n=function(e){a[e.target.name]=e.target.value};return r.a.createElement("div",{className:"card-body animated bounceInDown"},r.a.createElement("h5",{className:"card-title"},"Cambio de Contrase\xf1a"),r.a.createElement("form",{onSubmit:function(e){return t(e,a)},id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("label",{htmlFor:"password1"},"Nueva contrase\xf1a"),r.a.createElement("input",{type:"password",id:"password1",minLength:"8",maxLength:"15",onChange:n,name:"password1",className:"form-control form-control-sm validate",required:!0,autoComplete:"off",placeholder:"Ingrese nueva contrase\xf1a"})),r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("label",{htmlFor:"password2"},"Confirmaci\xf3n de contrase\xf1a"),r.a.createElement("input",{type:"password",id:"password2",minLength:"8",maxLength:"15",onChange:n,name:"password2",className:"form-control form-control-sm",required:!0,autoComplete:"off",placeholder:"Repita la contrase\xf1a"})),r.a.createElement("div",{className:"form-check col-sm-11"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onClick:function(){var e=document.getElementById("password1"),t=document.getElementById("password2");"password"===e.type&&"password"===t.type?(e.type="text",t.type="text"):(e.type="password",t.type="password")}}),r.a.createElement("span",{className:"px-2"},"Mostrar contrase\xf1a")))),r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar")))))},w=function(e){var t=e.handleSubmit,a={},n=function(e){a[e.target.name]=e.target.value};return r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Inicio de sesi\xf3n"),r.a.createElement("form",{onSubmit:function(e){return t(e,a)},id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:n,name:"email",className:"form-control form-control-sm validate",required:!0,autoComplete:"off",placeholder:"Ingrese su correo electr\xf3nico"})),r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",id:"password",onChange:n,name:"password",className:"form-control form-control-sm validate",required:!0,autoComplete:"off",placeholder:"Ingrese su contrase\xf1a"})),r.a.createElement("div",{className:"form-check col-sm-11"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onClick:function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}}),r.a.createElement("span",{className:"px-2"},"Mostrar contrase\xf1a")))),r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Ingresar")),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("p",{className:"card-text"},"\xbfOlvid\xf3 su contrase\xf1a? ",r.a.createElement(d.b,{to:"/recuperacion-password"},"Recuperar"))))))},S={backgroundColor:"rgba(0, 0, 0, .6)"},j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChangePassword=function(){var t=Object(N.a)(b.a.mark(function t(a,n){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n.password1!==n.password2){t.next=7;break}return r={firstName:e.state.user.firstName,lastName:e.state.user.lastName,email:e.state.user.email,password:n.password1,role:e.state.user.role,isPassChanged:!0},t.next=5,y.a.put("http://localhost:4000/api/account/changepassword/"+e.state.user._id,r).then(function(t){t.data.success&&(x.NotificationManager.success(t.data.message,"Cambio de Contrase\xf1a"),e.setState({showLogin:!0,showChangePassword:!1}))});case 5:t.next=8;break;case 7:x.NotificationManager.error("Las contrase\xf1as no coinciden","Error");case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.handleLogin=function(){var t=Object(N.a)(b.a.mark(function t(a,n){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={email:n.email,password:n.password},t.next=4,y.a.post("http://localhost:4000/api/account/signin",r).then(function(t){if(!1===t.data.success)x.NotificationManager.error(t.data.message,"Error");else{if("warning"!==t.data.success)return localStorage.setItem("usertoken",t.data),e.props.history.push("/"),t.data;x.NotificationManager.warning(t.data.message,"Atenci\xf3n"),e.setState({showChangePassword:!0,showLogin:!1,user:t.data.data})}}).catch(function(e){x.NotificationManager.error("Ha ocurrido un error al conectar con el servidor","Error")});case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.state={showChangePassword:!1,showLogin:!0,user:{}},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("usertoken")&&(this.setState({showLogin:!1}),this.props.history.push("/"))}},{key:"render",value:function(){var e=this.state,t=e.showChangePassword,a=e.showLogin;return r.a.createElement("div",{className:"container p-5 animated bounceInDown"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"}),r.a.createElement("div",{className:"card col-sm-4",style:S},a&&r.a.createElement(w,{handleSubmit:this.handleLogin}),t&&r.a.createElement(C,{handleSubmit:this.handleChangePassword}))),r.a.createElement(x.NotificationContainer,null))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={firstName:"",lastName:"",email:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron mt-5"},r.a.createElement("div",{className:"col-sm-8 mx-auto"},r.a.createElement("h1",{className:"text-center"},"Perfil")),r.a.createElement("div",{className:"table col-md-6 mx-auto"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,this.state.firstName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Apellido"),r.a.createElement("td",null,this.state.lastName)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre de usuario"),r.a.createElement("td",null,this.state.email))))))}}]),t}(n.Component),M=a(11),L=a(19),R=a(39),_=a.n(R),q={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};_.a.setAppElement("#root");var I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={modalIsOpen:!1},e.closeModal=e.closeModal.bind(Object(L.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1}),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,style:q,contentLabel:"Example Modal"},r.a.createElement("h2",{ref:function(t){return e.subtitle=t}},"Acceso denegado"),r.a.createElement("p",null,"Es posible que deba iniciar sesi\xf3n o tener los permisos suficientes."),r.a.createElement("button",{className:"btn btn-primary",onClick:this.closeModal},"Cerrar")))}}]),t}(n.Component),z=Object(p.f)(I),P=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,role:e.state.role},!e.state.editing){t.next=11;break}return t.next=5,y.a.put("http://localhost:4000/api/account/"+e.state._id,n);case 5:e.fetchUsers(),e.setState({firstName:"",lastName:"",email:"",role:""}),document.getElementById("form").reset(),x.NotificationManager.success("Actualizaci\xf3n realizada con \xe9xito","Registro"),t.next=13;break;case 11:return t.next=13,y.a.post("http://localhost:4000/api/account/signup",n).then(function(t){!1===t.data.success?x.NotificationManager.error(t.data.message,"Registro"):(e.setState({firstName:"",lastName:"",email:"",role:""}),e.fetchUsers(),document.getElementById("form").reset(),x.NotificationManager.success("Registro realizado con \xe9xito","Registro"),x.NotificationManager.info(t.data.emailMessage,"Registro"))}).catch(function(e){x.NotificationManager.error("Vaya! Ha ocurrido un error","Error")});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={firstName:"",lastName:"",email:"",rols:[],role:"",users:[],editing:!1,_id:"",isLoading:!1,showRegistro:!1,showVisualizacion:!1,showEdit:!1,showDelete:!1},e.handleChange=e.handleChange.bind(Object(L.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(L.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearUsuario&&(this.setState({showRegistro:!0,isLoading:!0}),y.a.defaults.headers.common.Authorization=e,this.fetchRols()),t.permisos.visualizarUsuario&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchUsers()),t.permisos.editarUsuario&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarUsuario&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}},{key:"fetchRols",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/rols").then(function(e){!1===e.data.success?t.setState({isLoading:!1}):t.setState({rols:e.data,isLoading:!0})}).catch(function(e){t.setState({isLoading:!1})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({isLoading:!1});case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/account").then(function(e){!1===e.data.success?t.setState({isLoading:!1}):t.setState({users:e.data})}).catch(function(e){t.setState({isLoading:!1})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({isLoading:!1});case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"editUser",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:4000/api/account/"+t);case 2:a=e.sent,this.setState({firstName:a.data.firstName,lastName:a.data.lastName,email:a.data.email,role:a.data.role._id,_id:a.data._id,editing:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("http://localhost:4000/api/account/"+t).then(function(e){e.data.success&&(a.fetchUsers(),x.NotificationManager.success(e.data.message,"Registro"))}).catch(function(e){x.NotificationManager.error("Vaya! Ha ocurrido un error")});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showRegistro,c=t.showVisualizacion,s=t.showEdit,o=t.showDelete,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de usuario"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"firstName"},"Nombre"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",id:"firstName",onChange:this.handleChange,name:"firstName",className:"form-control form-control-sm",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.firstName,placeholder:"Ingrese el nombre del usuario"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"lastName"},"Apellido"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",id:"lastName",onChange:this.handleChange,name:"lastName",className:"form-control form-control-sm",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 m\xe1x: 15",autoComplete:"off",value:this.state.lastName,placeholder:"Ingrese el apellido del usuario"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"email"},"Correo electr\xf3nico"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange,name:"email",className:"form-control form-control-sm",required:!0,title:"Se puede ingresar caracteres alfab\xe9ticos o alfanum\xe9ricos min:5 y m\xe1x:15",autoComplete:"off",value:this.state.email,placeholder:"Ingrese el email del usuario"})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"rol"},"Rol del usuario"),r.a.createElement("select",{className:"form-control form-control-sm",name:"role",id:"rol",onChange:this.handleChange},r.a.createElement("option",{defaultValue:!0},"Seleccione un rol"),this.state.rols.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("div",{className:"form-group col-sm-11"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de usuarios"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"px-2"},r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Apellido"),r.a.createElement("th",{scope:"col"},"Correo"),r.a.createElement("th",{scope:"col"},"Rol"))),r.a.createElement("tbody",null,this.state.users.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.firstName),r.a.createElement("td",null,t.lastName),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.role.name),r.a.createElement("td",null,s&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editUser(t._id)}},"edit")),o&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteUser(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5 animated zoomIn"},r.a.createElement("div",{className:"row"},n&&l,c&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide p-5","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:"/img/imagen.jpg",className:"rounded mx-auto d-block w-50",alt:""}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block animated fadeInDown"},r.a.createElement("h5",null,"Esfu\xe9rzate por progresar"),r.a.createElement("p",null,"No por llegar a la perfecci\xf3n"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:"/img/imagen2.jpg",className:"rounded mx-auto d-block w-50",alt:""}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block animated fadeInRight"},r.a.createElement("h5",null,"Todos los grandes logros"),r.a.createElement("p",null,"Requieren tiempo"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:"/img/imagen3.jpg",className:"rounded mx-auto d-block w-50",alt:""}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block animated fadeInLeft"},r.a.createElement("h5",null,"Los logros no son magia"),r.a.createElement("p",null,"Son trabajo duro y dedicaci\xf3n")))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={name:e.state.name},t.prev=2,!e.state.editing){t.next=8;break}return t.next=6,y.a.put("http://localhost:4000/api/rols/"+e.state._id,n).then(function(t){!1===t.data.success?x.NotificationManager.error(t.data.message,"Actualizaci\xf3n"):(e.fetchRols(),e.setState({name:"",editing:!1,_id:""}),document.getElementById("form").reset(),x.NotificationManager.success(t.data.message,"Actualizaci\xf3n"))});case 6:t.next=10;break;case 8:return t.next=10,y.a.post("http://localhost:4000/api/rols",n).then(function(t){!1===t.data.success?x.NotificationManager.error(t.data.message,"Registro"):(e.setState({name:""}),e.fetchRols(),document.getElementById("form").reset(),x.NotificationManager.success("Registro realizado con \xe9xito","Registro"))}).catch(function(e){console.log(e)});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),x.NotificationManager.error("Ha ocurrido un error","Error");case 15:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",rols:[],_id:"",editing:!1,isLoading:!1,showRegistro:!1,showVisualizacion:!1,showEdit:!1,showDelete:!1},e.handleChange=e.handleChange.bind(Object(L.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(L.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearRol&&(this.setState({showRegistro:!0,isLoading:!0}),y.a.defaults.headers.common.Authorization=e),t.permisos.visualizarRol&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchRols()),t.permisos.editarRol&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarRol&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}catch(a){this.setState({isLoading:!1})}}},{key:"fetchRols",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/rols").then(function(e){!1===e.data.success?t.setState({isLoading:!1}):t.setState({rols:e.data,isLoading:!0})}).catch(function(e){t.setState({isLoading:!1})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({isLoading:!1});case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"editRol",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:4000/api/rols/"+t);case 2:a=e.sent,this.setState({name:a.data.name,_id:a.data._id,editing:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRol",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("http://localhost:4000/api/rols/"+t).then(function(e){e.data.success?(a.fetchRols(),x.NotificationManager.success(e.data.message,"Registro")):x.NotificationManager.error(e.data.message,"Registro")}).catch(function(e){console.log("Error"+e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showRegistro,c=t.showDelete,s=t.showEdit,o=t.showVisualizacion,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de roles"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("label",{htmlFor:"name"},"Nombre del rol"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",id:"name",onChange:this.handleChange,name:"name",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingresar en min\xfasculas: administrador/vendedor/cliente",autoComplete:"off",value:this.state.name,placeholder:"Ingrese el nombre del rol"})),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de roles"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-sm table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"))),r.a.createElement("tbody",null,this.state.rols.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.name),r.a.createElement("td",{className:"px-2"},s&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editRol(t._id)}},"edit")),c&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteRol(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},n&&l,o&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),V=a(36),F=a.n(V),G=(a(133),{backgroundColor:"rgba(0, 0, 0, .6)"}),B=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={isLoading:!0,sessions:[]},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");e?"administrador"===f()(e).role&&(y.a.defaults.headers.common.Authorization=e,this.fetchSessions()):this.setState({isLoading:!1})}},{key:"fetchSessions",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/sessions");case 3:t=e.sent,this.setState({sessions:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"section container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card",style:G},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title white-text"},"Acciones de usuarios"),r.a.createElement("table",{className:"highlight"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"white-text"},r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Apellido"),r.a.createElement("th",null,"Rol"),r.a.createElement("th",null,"Inicio de sesi\xf3n"),r.a.createElement("th",null,"Acciones"),r.a.createElement("th",null,"\xdalt. vez"))),r.a.createElement("tbody",null,this.state.sessions.map(function(e){return r.a.createElement("tr",{key:e._id,className:"white-text"},r.a.createElement("td",null,f()(e.userToken).firstName),r.a.createElement("td",null,f()(e.userToken).lastName),r.a.createElement("td",null,f()(e.userToken).role),r.a.createElement("td",null,e.dateSession),r.a.createElement("td",null,e.actions.map(function(e){return r.a.createElement("li",{key:e.toString()},e)})),r.a.createElement("td",null,e.dateActions&&F()(e.dateActions).calendar()))}))))))))}}]),t}(n.Component),H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={tipoPersona:e.state.tipoPersona,name:e.state.name,direccion:e.state.direccion,cedula:e.state.cedula,telefono:e.state.telefono},t.prev=2,!e.state.editing){t.next=12;break}return t.next=6,y.a.put("http://localhost:4000/api/cliente/"+e.state._id,n);case 6:e.fetchClientes(),e.setState({tipoPersona:"",name:"",direccion:"",cedula:"",telefono:"",_id:"",editing:!1}),document.getElementById("form").reset(),x.NotificationManager.success("Actualizaci\xf3n realizada con \xe9xito","Registro"),t.next=16;break;case 12:return t.next=14,y.a.post("http://localhost:4000/api/cliente",n);case 14:!1===(r=t.sent).data.success?x.NotificationManager.error(r.data.message,"Registro"):(e.setState({tipoPersona:"",name:"",direccion:"",cedula:"",telefono:""}),e.fetchClientes(),document.getElementById("form").reset(),x.NotificationManager.success(r.data.message,"Registro"));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.log("Error");case 21:case"end":return t.stop()}},t,null,[[2,18]])}));return function(e){return t.apply(this,arguments)}}(),e.state={tipoPersona:"",name:"",direccion:"",cedula:"",telefono:"",isLoading:!1,_id:"",clientes:[],editing:!1,showRegistro:!1,showEdit:!1,showDelete:!1,showVisualizacion:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearCliente&&this.setState({showRegistro:!0,isLoading:!0}),t.permisos.visualizarCliente&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchClientes(),y.a.defaults.headers.common.Authorization=e),t.permisos.editarCliente&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarCliente&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}},{key:"fetchClientes",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/cliente");case 3:t=e.sent,this.setState({clientes:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({isLoading:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editCliente",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/cliente/"+t);case 3:a=e.sent,this.setState({tipoPersona:a.data.tipoPersona,name:a.data.name,direccion:a.data.direccion,cedula:a.data.cedula,telefono:a.data.telefono,_id:a.data._id,editing:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCliente",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/cliente/"+t);case 3:!0===(a=e.sent).data.success&&(this.fetchClientes(),x.NotificationManager.success(a.data.message,"Cliente")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showDelete,c=t.showEdit,s=t.showRegistro,o=t.showVisualizacion,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de Clientes"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"tipoPersona"},"Tipo Persona"),r.a.createElement("input",{type:"text",minLength:"2",maxLength:"15",id:"tipoPersona",onChange:this.handleChange,name:"tipoPersona",className:"form-control form-control-sm",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.tipoPersona,placeholder:"Ingrese tipo de persona"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange,name:"name",className:"form-control form-control-sm",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.name,placeholder:"Ingrese el nombre del cliente"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cedula"},"Cedula"),r.a.createElement("input",{type:"text",id:"cedula",onChange:this.handleChange,name:"cedula",className:"form-control form-control-sm",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.cedula,placeholder:"Ingrese la c\xe9dula del cliente"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"direccion"},"Direccion"),r.a.createElement("input",{type:"text",id:"direccion",onChange:this.handleChange,name:"direccion",className:"form-control form-control-sm",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.direccion,placeholder:"Ingrese direcci\xf3n del cliente"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"telefono"},"Telefono"),r.a.createElement("input",{type:"text",id:"telefono",onChange:this.handleChange,name:"telefono",className:"form-control form-control-sm",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.telefono,placeholder:"Ingrese el telefono del cliente"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Clientes"),r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Tipo Persona"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cedula"),r.a.createElement("th",null,"Direccion"),r.a.createElement("th",null,"Telefono"))),r.a.createElement("tbody",null,this.state.clientes.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.tipoPersona),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.cedula),r.a.createElement("td",null,t.direccion),r.a.createElement("td",null,t.telefono),r.a.createElement("td",null,c&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editCliente(t._id)}},"edit")),n&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteCliente(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},s&&l,o&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={nombre:e.state.name,precio:e.state.price,costo:e.state.cost,stockMinimo:e.state.minimumStock},t.prev=2,!e.state.editing){t.next=12;break}return t.next=6,y.a.put("http://localhost:4000/api/products/"+e.state._id,n);case 6:e.fetchProducts(),e.setState({name:"",price:"",cost:"",minimumStock:"",_id:"",editing:!1}),document.getElementById("form").reset(),x.NotificationManager.success("Actualizaci\xf3n realizada con \xe9xito","Registro"),t.next=16;break;case 12:return t.next=14,y.a.post("http://localhost:4000/api/products",n);case 14:!1===(r=t.sent).data.success?x.NotificationManager.error(r.data.message,"Registro"):(e.setState({name:"",price:"",cost:"",minimumStock:""}),e.fetchProducts(),document.getElementById("form").reset(),x.NotificationManager.success(r.data.message,"Registro"));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.log("Error");case 21:case"end":return t.stop()}},t,null,[[2,18]])}));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",price:"",cost:"",minimumStock:"",isLoading:!1,_id:"",products:[],editing:!1,showRegistro:!1,showVisualizacion:!1,showEdit:!1,showDelete:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearProducto&&this.setState({showRegistro:!0,isLoading:!0}),t.permisos.visualizarProducto&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchProducts(),y.a.defaults.headers.common.Authorization=e),t.permisos.editarProducto&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarProducto&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}},{key:"fetchProducts",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/products");case 3:t=e.sent,this.setState({products:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({isLoading:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editProduct",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/products/"+t);case 3:a=e.sent,this.setState({name:a.data.nombre,price:a.data.precio,cost:a.data.costo,minimumStock:a.data.stockMinimo,_id:a.data._id,editing:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/products/"+t);case 3:!0===(a=e.sent).data.success&&(this.fetchProducts(),x.NotificationManager.success(a.data.message,"Producto")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showDelete,c=t.showEdit,s=t.showRegistro,o=t.showVisualizacion,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de productos"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",id:"name",onChange:this.handleChange,name:"name",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.name,placeholder:"Ingrese el nombre del producto"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"price"},"Precio"),r.a.createElement("input",{type:"number",id:"price",onChange:this.handleChange,name:"price",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.price,placeholder:"Ingrese el precio del producto"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cost"},"Costo"),r.a.createElement("input",{type:"number",id:"cost",onChange:this.handleChange,name:"cost",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.cost,placeholder:"Ingrese el costo del producto"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"minimumStock"},"Stock m\xednimo"),r.a.createElement("input",{type:"number",id:"minimumStock",onChange:this.handleChange,name:"minimumStock",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Se requiere caracteres alfab\xe9ticos min: 3 y m\xe1x: 15",autoComplete:"off",value:this.state.minimumStock,placeholder:"Ingrese el stock minimo"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de productos"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Costo"),r.a.createElement("th",{scope:"col"},"Stock m\xednimo"))),r.a.createElement("tbody",null,this.state.products.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.precio),r.a.createElement("td",null,t.costo),r.a.createElement("td",null,t.stockMinimo),r.a.createElement("td",null,c&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editProduct(t._id)}},"edit")),n&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteProduct(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},s&&l,o&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={nombre:e.state.nombre,apellido:e.state.apellido,cedula:e.state.cedula,direccion:e.state.direccion,telefono:e.state.telefono,correo:e.state.correo},!e.state.editing){t.next=11;break}return t.next=5,y.a.put("http://localhost:4000/api/proveedores/"+e.state._id,n);case 5:e.fetchProveedores(),e.setState({nombre:"",apellido:"",cedula:"",direccion:"",telefono:"",correo:"",_id:"",editing:!1}),document.getElementById("form").reset(),x.NotificationManager.success("Actualizaci\xf3n realizada con \xe9xito","Registro"),t.next=13;break;case 11:return t.next=13,y.a.post("http://localhost:4000/api/proveedores",n).then(function(t){!1===t.data.success?x.NotificationManager.error(t.data.message,"Registro"):(e.setState({nombre:"",apellido:"",cedula:"",direccion:"",telefono:"",correo:""}),e.fetchProveedores(),document.getElementById("form").reset(),x.NotificationManager.success("Registro realizado con \xe9xito","Registro"))}).catch(function(e){console.log(e)});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={nombre:"",apellido:"",direccion:"",telefono:"",cedula:"",correo:"",_id:"",proveedores:[],editing:!1,isLoading:!1,showRegistro:!1,showEdit:!1,showVisualizacion:!1,showDelete:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearProveedor&&this.setState({showRegistro:!0,isLoading:!0}),t.permisos.visualizarProveedor&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchProveedores(),y.a.defaults.headers.common.Authorization=e),t.permisos.editarProveedor&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarProveedor&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}},{key:"fetchProveedores",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/proveedores").then(function(e){!1===e.data.success?t.setState({isLoading:!1}):t.setState({proveedores:e.data,isLoading:!0})}).catch(function(e){t.setState({isLoading:!1})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({isLoading:!1});case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"editProveedor",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:4000/api/proveedores/"+t);case 2:a=e.sent,this.setState({nombre:a.data.nombre,apellido:a.data.apellido,cedula:a.data.cedula,direccion:a.data.direccion,telefono:a.data.telefono,correo:a.data.correo,_id:a.data._id,editing:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProveedor",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("http://localhost:4000/api/proveedores/"+t).then(function(e){e.data.success&&(a.fetchProveedores(),x.NotificationManager.success(e.data.message,"Registro"))}).catch(function(e){console.log("Error"+e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showDelete,c=t.showEdit,s=t.showRegistro,o=t.showVisualizacion,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de proveedores"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"nombre"},"Nombre"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"nombre",id:"nombre",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese nombre del proveedor",autoComplete:"off",value:this.state.nombre,placeholder:"Ingrese el nombre del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"apellido"},"Apellido"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"apellido",id:"apellido",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese apellido del proveedor",autoComplete:"off",value:this.state.apellido,placeholder:"Ingrese apellido del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"direccion"},"Direcci\xf3n"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"direccion",id:"direccion",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese direcci\xf3n del proveedor",autoComplete:"off",value:this.state.direccion,placeholder:"Ingrese direcci\xf3n del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cedula"},"C\xe9dula"),r.a.createElement("input",{type:"number",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"cedula",id:"cedula",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese cedula del proveedor",autoComplete:"off",value:this.state.cedula,placeholder:"Ingrese c\xe9dula del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"telefono"},"Tel\xe9fono"),r.a.createElement("input",{type:"number",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"telefono",id:"telefono",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese telefono del proveedor",autoComplete:"off",value:this.state.telefono,placeholder:"Ingrese tel\xe9fono del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"correo"},"Correo"),r.a.createElement("input",{type:"email",onChange:this.handleChange,name:"correo",id:"correo",className:"form-control form-control-sm validate",required:!0,title:"Ingrese correo del proveedor",autoComplete:"off",value:this.state.correo,placeholder:"Ingrese email del proveedor"})),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de proveedores"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"C\xe9dula"),r.a.createElement("th",{scope:"col"},"Direcci\xf3n"),r.a.createElement("th",{scope:"col"},"Tel\xe9f."),r.a.createElement("th",{scope:"col"},"Correo"))),r.a.createElement("tbody",null,this.state.proveedores.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.nombre+" "+t.apellido),r.a.createElement("td",null,t.cedula),r.a.createElement("td",null,t.direccion),r.a.createElement("td",null,t.telefono),r.a.createElement("td",null,t.correo),r.a.createElement("td",null,c&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editProveedor(t._id)}},"edit")),n&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteProveedor(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},s&&l,o&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),T=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={nombre:e.state.nombre,cod_equipo:e.state.cod_equipo,costo:e.state.costo,descripcion:e.state.descripcion},t.prev=2,!e.state.editing){t.next=10;break}return t.next=6,y.a.put("http://localhost:4000/api/equipos/"+e.state._id,n);case 6:(r=t.sent).data.success&&(x.NotificationManager.success(r.data.message,"Actualizaci\xf3n"),e.setState({nombre:"",cod_equipo:"",costo:"",descripcion:"",_id:"",editing:!1}),e.fetchEquipos(),document.getElementById("form").reset()),t.next=14;break;case 10:return t.next=12,y.a.post("http://localhost:4000/api/equipos",n);case 12:!1===(c=t.sent).data.success?x.NotificationManager.error(c.data.message,"Registro"):(x.NotificationManager.success(c.data.message,"Registro"),e.setState({nombre:"",cod_equipo:"",costo:"",descripcion:""}),e.fetchEquipos(),document.getElementById("form").reset());case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),x.NotificationManager.error("Error","Registro");case 19:case"end":return t.stop()}},t,null,[[2,16]])}));return function(e){return t.apply(this,arguments)}}(),e.state={nombre:"",cod_equipo:"",costo:"",descripcion:"",_id:"",editing:!1,equipos:[],isLoading:!1,showRegistro:!1,showVisualizacion:!1,showEdit:!1,showDelete:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);t.permisos.crearMaquina&&this.setState({showRegistro:!0,isLoading:!0}),t.permisos.visualizarMaquina&&(this.setState({showVisualizacion:!0,isLoading:!0}),this.fetchEquipos(),y.a.defaults.headers.common.Authorization=e),t.permisos.editarMaquina&&this.setState({showEdit:!0,isLoading:!0}),t.permisos.eliminarMaquina&&this.setState({showDelete:!0,isLoading:!0})}else this.setState({isLoading:!1})}},{key:"fetchEquipos",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/equipos");case 3:t=e.sent,this.setState({equipos:t.data,isLoading:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({isLoading:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editEquipo",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/equipos/"+t);case 3:a=e.sent,this.setState({nombre:a.data.nombre,cod_equipo:a.data.cod_equipo,costo:a.data.costo,descripcion:a.data.descripcion,_id:a.data._id,editing:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Registro");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEquipo",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/equipos/"+t);case 3:(a=e.sent).data.success&&(this.fetchEquipos(),x.NotificationManager.success(a.data.message,"Registro")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Registro");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.showDelete,c=t.showEdit,s=t.showRegistro,o=t.showVisualizacion,l=r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de m\xe1quinas"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"nombre"},"Nombre"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"nombre",id:"nombre",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese nombre del equipo",autoComplete:"off",value:this.state.nombre,placeholder:"Ingrese el nombre de la m\xe1quina"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cod_equipo"},"C\xf3digo del equipo"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"cod_equipo",id:"cod_equipo",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese el codigo del equipo",autoComplete:"off",value:this.state.cod_equipo,placeholder:"Ingrese el c\xf3digo de la m\xe1quina"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"costo"},"Costo"),r.a.createElement("input",{type:"number",onChange:this.handleChange,name:"costo",id:"costo",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese costo del equipo",autoComplete:"off",value:this.state.costo,placeholder:"Ingrese el costo de la m\xe1quina"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"descripcion"},"Descripci\xf3n"),r.a.createElement("textarea",{className:"form-control form-control-sm",name:"descripcion",id:"descripcion",onChange:this.handleChange,value:this.state.descripcion,placeholder:"Agregue una descripci\xf3n de la m\xe1quina"})),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),i=r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de M\xe1quinas"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"C\xf3digo"),r.a.createElement("th",{scope:"col"},"Costo(Gs.)"),r.a.createElement("th",{scope:"col"},"Descripci\xf3n"))),r.a.createElement("tbody",null,this.state.equipos.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.cod_equipo),r.a.createElement("td",null,t.costo),r.a.createElement("td",null,t.descripcion),r.a.createElement("td",null,c&&r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editEquipo(t._id)}},"edit")),n&&r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteEquipo(t._id)}},"delete"))))}))))));return a?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},s&&l,o&&i),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={equipo:e.state.equipo,detalleMantenimiento:e.state.detalles},t.prev=2,!e.state.editing){t.next=10;break}return t.next=6,y.a.put("http://localhost:4000/api/mantenimiento/"+e.state._id,n);case 6:!1===(r=t.sent).data.success?x.NotificationManager.error(r.data.message,"Actualizaci\xf3n"):(x.NotificationManager.success(r.data.message,"Actualizaci\xf3n"),e.setState({equipo:"",detalles:"",_id:"",editing:!1}),e.fetchMantenimientos(),document.getElementById("form").reset()),t.next=14;break;case 10:return t.next=12,y.a.post("http://localhost:4000/api/mantenimiento",n);case 12:!1===(c=t.sent).data.success?x.NotificationManager.error(c.data.message,"Registro"):(e.setState({equipo:"",detalles:""}),e.fetchMantenimientos(),document.getElementById("form").reset(),x.NotificationManager.success(c.data.message,"Registro"));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),x.NotificationManager.error("Ha ocurrido un error","Registro");case 19:case"end":return t.stop()}},t,null,[[2,16]])}));return function(e){return t.apply(this,arguments)}}(),e.state={equipos:[],mantenimientos:[],equipo:"",detalles:"",editing:!1,_id:"",isLoading:!0},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);"administrador"===t.role||"vendedor"===t.role?(y.a.defaults.headers.common.Authorization=e,this.fetchEquipos(),this.fetchMantenimientos()):this.setState({isLoading:!1})}else this.setState({isLoading:!1})}},{key:"fetchEquipos",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/equipos");case 3:t=e.sent,this.setState({equipos:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMantenimientos",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/mantenimiento");case 3:t=e.sent,this.setState({mantenimientos:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editMantenimiento",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/mantenimiento/"+t);case 3:a=e.sent,this.setState({equipo:a.data.equipo._id,detalles:a.data.detalleMantenimiento,_id:a.data._id,editing:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteMantenimiento",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/mantenimiento/"+t);case 3:(a=e.sent).data.success&&(this.fetchMantenimientos(),x.NotificationManager.success(a.data.message,"Registro")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"completarMantenimiento",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put("http://localhost:4000/api/mantenimiento/completar/"+t);case 3:(a=e.sent).data.success?(this.fetchMantenimientos(),x.NotificationManager.success(a.data.message,"Mantenimiento")):x.NotificationManager.error(a.data.message,"Mantenimiento"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.isLoading){var t=this.state.equipos.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.nombre)});return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Equipos"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("select",{className:"form-control form-control-sm",name:"equipo",onChange:this.handleChange},r.a.createElement("option",{defaultValue:!0},"Seleccione un equipo"),t)),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"detalles"},"Detalles"),r.a.createElement("textarea",{className:"form-control form-control-sm validate",name:"detalles",id:"detalles",onChange:this.handleChange,value:this.state.detalles,placeholder:"Agregue una descripci\xf3n del mantenimiento"})),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de Mantenimientos"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Equipo"),r.a.createElement("th",{scope:"col"},"Detalles"),r.a.createElement("th",{scope:"col"},"Estado"))),r.a.createElement("tbody",null,this.state.mantenimientos.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.equipo.nombre),r.a.createElement("td",null,t.detalleMantenimiento),r.a.createElement("td",null,t.estado),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editMantenimiento(t._id)}},"edit")),r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteMantenimiento(t._id)}},"delete")),r.a.createElement("button",{title:"Completar mantenimiento",className:"btn btn-success btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.completarMantenimiento(t._id)}},"check"))))}))))))),r.a.createElement(x.NotificationContainer,null))}return r.a.createElement(z,null)}}]),t}(n.Component),K=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r,c,s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=document.getElementById("hora").value,r={nombre:e.state.nombre,cantidadPersona:e.state.cantidad,dias:e.state.dias,horario:n,cantidadActual:document.getElementById("actual").value},t.prev=3,!e.state.editing){t.next=11;break}return t.next=7,y.a.put("http://localhost:4000/api/clases/"+e.state._id,r);case 7:(c=t.sent).data.success?(e.setState({nombre:"",cantidad:"",hora:"",dias:"",_id:"",actual:0,editing:!1}),e.fetchClases(),document.getElementById("form").reset(),x.NotificationManager.success(c.data.message,"Registro de clase")):x.NotificationManager.error(c.data.message,"Registro de clase"),t.next=15;break;case 11:return t.next=13,y.a.post("http://localhost:4000/api/clases",r);case 13:(s=t.sent).data.success?(e.setState({nombre:"",cantidad:"",hora:"",dias:"",actual:0}),e.fetchClases(),document.getElementById("form").reset(),x.NotificationManager.success(s.data.message,"Registro de clase")):x.NotificationManager.error(s.data.message,"Registro de clase");case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(3);case 19:case"end":return t.stop()}},t,null,[[3,17]])}));return function(e){return t.apply(this,arguments)}}(),e.state={nombre:"",dias:"",hora:"",cantidad:"",actual:0,clases:[],_id:"",editing:!1,isLoading:!0},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);"administrador"===t.role||"vendedor"===t.role?(y.a.defaults.headers.common.Authorization=e,this.fetchClases()):this.setState({isLoading:!1})}else this.setState({isLoading:!1})}},{key:"fetchClases",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/clases");case 3:t=e.sent,this.setState({clases:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editClase",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/clases/"+t);case 3:a=e.sent,this.setState({nombre:a.data.nombre,_id:a.data._id,cantidad:a.data.cantidadPersona,dias:a.data.dias,actual:a.data.cantidadActual,editing:!0}),document.getElementById("hora").value=a.data.horario,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteClase",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/clases/"+t);case 3:(a=e.sent).data.success&&(this.fetchClases(),x.NotificationManager.success(a.data.message,"Eliminaci\xf3n de Clase")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title white-text"},"Clases"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"nombre"},"Nombre"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"nombre",id:"nombre",className:"form-control form-control-sm validate",required:!0,pattern:"[A-Za-z]+",title:"Ingrese nombre de la clase",autoComplete:"off",value:this.state.nombre,placeholder:"Ingrese el nombre de la clase"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"dias"},"D\xedas de clase"),r.a.createElement("textarea",{className:"form-control form-control-sm validate",name:"dias",id:"dias",onChange:this.handleChange,value:this.state.dias,placeholder:"Ingrese los d\xedas de clases"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"hora"},"Horario"),r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"hora",id:"hora",className:"form-control form-control-sm",title:"Ingrese un horario para la clase",required:!0,placeholder:"Ingrese un horario de clase"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cantidad"},"Cantidad de participantes"),r.a.createElement("input",{type:"number",onChange:this.handleChange,name:"cantidad",id:"cantidad",className:"form-control form-control-sm validate",required:!0,title:"Ingrese la cantidad de personas",autoComplete:"off",value:this.state.cantidad,placeholder:"Ingrese cantidad max personas"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"actual"},"Cantidad actual"),r.a.createElement("input",{type:"number",onChange:this.handleChange,name:"actual",id:"actual",className:"form-control form-control-sm validate",required:!0,title:"Ingrese la cantidad actual de personas en la clase",autoComplete:"off",value:this.state.actual,placeholder:"Ingrese actual de personas"})),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Listado de clases"),r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Clase"),r.a.createElement("th",{scope:"col"},"Horario"),r.a.createElement("th",{scope:"col"},"D\xedas"),r.a.createElement("th",{scope:"col"},"Cantidad Pers."),r.a.createElement("th",{scope:"col"},"Actual"))),r.a.createElement("tbody",null,this.state.clases.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.horario),r.a.createElement("td",null,t.dias),r.a.createElement("td",null,t.cantidadPersona),r.a.createElement("td",null,t.cantidadActual),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editClase(t._id)}},"edit")),r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteClase(t._id)}},"delete"))))}))))))),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),Q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={clases:[],estado:"",id:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("usertoken");if(e){var t=f()(e);this.cargarCliente(t._id)}}catch(a){}this.fetchClases()}},{key:"cargarCliente",value:function(e){this.setState({id:e})}},{key:"fetchClases",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/clases");case 3:t=e.sent,this.setState({clases:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error al conectarse al servidor","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"reservarClase",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.id,"5d6867dc24ec8a47081cb221",n={cliente:a,clase:t,sucursal:"5d6867dc24ec8a47081cb221"},e.prev=4,e.next=7,y.a.post("http://localhost:4000/api/reservas",n);case 7:(r=e.sent).data.success?(this.fetchClases(),x.NotificationManager.success(r.data.message,"Reserva")):x.NotificationManager.error(r.data.message,"Reserva"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),x.NotificationManager.error("Ha ocurrido un error","Reserva");case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelarReserva",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/reservas/"+t);case 3:(a=e.sent).data.success?(this.fetchClases(),x.NotificationManager.success(a.data.message,"Reserva")):x.NotificationManager.error(a.data.message,"Reserva"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Reserva");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title white-text"},"Reservas"),r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Clase"),r.a.createElement("th",null,"D\xedas"),r.a.createElement("th",null,"Horario"),r.a.createElement("th",null,"Estado"))),r.a.createElement("tbody",null,this.state.clases.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.dias),r.a.createElement("td",null,t.horario),r.a.createElement("td",null,t.estado),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm",title:"Reservar clase"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.reservarClase(t._id)}},"done")),r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"},title:"Cancelar reserva"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.cancelarReserva(t._id)}},"cancel"))))}))))))),r.a.createElement(x.NotificationContainer,null))}}]),t}(n.Component),W=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleOptions=function(t){e.setState(Object(M.a)({},t.target.name,t.target.options))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r,c,s,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a.preventDefault(),n=[],r=0;r<e.state.opciones.length;r++)e.state.opciones[r].selected&&n.push(e.state.opciones[r].value);if(c={cod_sucursal:e.state.cod_sucursal,localidad:e.state.localidad,direccion:e.state.direccion,telefono:e.state.telefono,clases:n},t.prev=4,!e.state.editing){t.next=12;break}return t.next=8,y.a.put("http://localhost:4000/api/sucursales/"+e.state._id,c);case 8:(s=t.sent).data.success&&(x.NotificationManager.success(s.data.message,"Actualizaci\xf3n"),e.setState({cod_sucursal:"",localidad:"",direccion:"",telefono:"",_id:"",editing:!1,opciones:[]}),e.fetchSucursales(),document.getElementById("form").reset()),t.next=16;break;case 12:return t.next=14,y.a.post("http://localhost:4000/api/sucursales",c);case 14:!1===(o=t.sent).data.success?x.NotificationManager.error(o.data.message,"Registro"):(e.setState({cod_sucursal:"",localidad:"",direccion:"",telefono:"",opciones:[]}),e.fetchSucursales(),document.getElementById("form").reset(),x.NotificationManager.success(o.data.message,"Registro"));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),x.NotificationManager.error("Error","Registro");case 21:case"end":return t.stop()}},t,null,[[4,18]])}));return function(e){return t.apply(this,arguments)}}(),e.state={cod_sucursal:"",localidad:"",direccion:"",telefono:"",sucursales:[],editing:!1,_id:"",isLoading:!0,opciones:[],clases:[]},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("usertoken");if(e){var t=f()(e);"administrador"===t.role||"vendedor"===t.role?(y.a.defaults.headers.common.Authorization=e,this.fetchClases(),this.fetchSucursales()):this.setState({isLoading:!1})}else this.setState({isLoading:!1})}},{key:"fetchClases",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/clases").then(function(e){t.setState({clases:e.data})}).catch(function(e){x.NotificationManager.error("Ha ocurrido un error","Error")});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSucursales",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/sucursales");case 3:t=e.sent,this.setState({sucursales:t.data,isLoading:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({isLoading:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editSucursal",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/sucursales/"+t);case 3:a=e.sent,this.setState({cod_sucursal:a.data.cod_sucursal,localidad:a.data.localidad,direccion:a.data.direccion,telefono:a.data.telefono,_id:a.data._id,editing:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Registro");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSucursal",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/sucursales/"+t);case 3:(a=e.sent).data.success&&(this.fetchSucursales(),x.NotificationManager.success(a.data.message,"Registro")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Registro");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Registro de sucursales"),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"cod_sucursal"},"C\xf3digo"),r.a.createElement("input",{type:"text",id:"cod_sucursal",name:"cod_sucursal",title:"Ingrese el c\xf3digo de sucursal",onChange:this.handleChange,minLength:"3",maxLength:"3",autoComplete:"off",value:this.state.cod_sucursal,required:!0,className:"form-control form-control-sm validate",placeholder:"Ingrese c\xf3digo sucursal"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"localidad"},"Localidad"),r.a.createElement("textarea",{className:"form-control form-control-sm validate",name:"localidad",id:"localidad",onChange:this.handleChange,value:this.state.localidad,placeholder:"Ingrese localidad"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"direccion"},"Direcci\xf3n"),r.a.createElement("textarea",{className:"form-control form-control-sm validate",name:"direccion",id:"direccion",onChange:this.handleChange,value:this.state.direccion,placeholder:"Ingrese direcci\xf3n sucursal"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"telefono"},"Tel\xe9fono"),r.a.createElement("input",{type:"text",minLength:"3",maxLength:"15",onChange:this.handleChange,name:"telefono",id:"telefono",className:"form-control form-control-sm validate",required:!0,title:"Ingrese el telefono",autoComplete:"off",value:this.state.telefono,placeholder:"Ingrese telefono sucursal"})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"opciones"},"Clases"),r.a.createElement("select",{multiple:!0,onChange:this.handleOptions,className:"form-control form-control-sm",name:"opciones",id:"opciones"},this.state.clases.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.nombre)}))),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",name:"action"},"Guardar"))))))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Listado de sucursales"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"C\xf3digo"),r.a.createElement("th",{scope:"col"},"Localidad"),r.a.createElement("th",{scope:"col"},"Direccion"),r.a.createElement("th",{scope:"col"},"Tel\xe9fono"))),r.a.createElement("tbody",null,this.state.sucursales.map(function(t){return r.a.createElement("tr",{key:t._id,className:"white-text"},r.a.createElement("td",null,t.cod_sucursal),r.a.createElement("td",null,t.localidad),r.a.createElement("td",null,t.direccion),r.a.createElement("td",null,t.telefono),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editSucursal(t._id)}},"edit")),r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteSucursal(t._id)}},"delete"))))}))))))),r.a.createElement(x.NotificationContainer,null)):r.a.createElement(z,null)}}]),t}(n.Component),X=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r,c,s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n="",n=e.state.editing?e.state.productId:e.state.producto,r={cliente:e.state.cliente,tipo_venta:e.state.tipoVenta,cantidad:e.state.cantidad,producto:n},t.prev=4,!e.state.editing){t.next=12;break}return t.next=8,y.a.put("http://localhost:4000/api/ventas/"+e.state._id,r);case 8:(c=t.sent).data.success?(x.NotificationManager.success(c.data.message,"Venta"),e.setState({tipoVenta:"Elija una opci\xf3n",cantidad:"",cliente:"Elija un cliente",producto:"Elija un producto",_id:"",editing:!1,productId:""}),e.fetchDetalles(),document.getElementById("form").reset()):x.NotificationManager.error("Ocurrio un error","Error"),t.next=16;break;case 12:return t.next=14,y.a.post("http://localhost:4000/api/ventas",r);case 14:(s=t.sent).data.success&&(x.NotificationManager.success(s.data.message,"Venta"),e.fetchDetalles());case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),x.NotificationManager.error("Ha ocurrido un error","Venta");case 21:case"end":return t.stop()}},t,null,[[4,18]])}));return function(e){return t.apply(this,arguments)}}(),e.state={cliente:"Elija un cliente",tipoVenta:"Elija una opci\xf3n",sucursal:"Elija una sucursal",cantidad:"",producto:"Elija un producto",precio:"",productos:[],detalles:[],sucursales:[],_id:"",editing:!1,productId:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchProduct(),this.fetchDetalles()}},{key:"fetchProduct",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/products");case 3:t=e.sent,this.setState({productos:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSucursales",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/sucursales");case 3:t=e.sent,this.setState({sucursales:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error();case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDetalles",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/detalle-ventas");case 3:t=e.sent,this.setState({detalles:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"editVenta",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/detalle-ventas/"+t);case 3:a=e.sent,this.setState({tipoVenta:a.data.venta.tipo_venta,cantidad:a.data.cantidad,cliente:a.data.venta.cliente,producto:a.data.producto.nombre,_id:a.data.venta._id,editing:!0,productId:a.data.producto._id}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteVenta",value:function(){var e=Object(N.a)(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:4000/api/ventas/"+t);case 3:(a=e.sent).data.success&&(x.NotificationManager.success(a.data.message,"Venta"),this.fetchDetalles()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ha ocurrido un error","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Venta de productos"),r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"cliente"},"Cliente"),r.a.createElement("select",{className:"form-control",name:"cliente",id:"cliente",onChange:this.handleChange,defaultValue:this.state.cliente},r.a.createElement("option",{value:this.state.cliente,disabled:!0},this.state.cliente),r.a.createElement("option",{value:"pedro"},"Pedro"),r.a.createElement("option",{value:"pepito"},"Pepito"))),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"tipoVenta"},"Tipo de venta"),r.a.createElement("select",{className:"form-control",name:"tipoVenta",id:"tipoVenta",onChange:this.handleChange,defaultValue:this.state.tipoVenta},r.a.createElement("option",{disabled:!0,value:this.state.tipoVenta},this.state.tipoVenta),r.a.createElement("option",{value:"Contado"},"Contado"),r.a.createElement("option",{value:"Credito"},"Credito"))),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"producto"},"Producto"),r.a.createElement("select",{className:"form-control",name:"producto",id:"producto",onChange:this.handleChange,defaultValue:this.state.productId},r.a.createElement("option",{disabled:!0,value:this.state.productId},this.state.producto),this.state.productos.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.nombre)}))),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"cantidad"},"Cantidad"),r.a.createElement("input",{type:"number",className:"form-control",name:"cantidad",id:"cantidad",onChange:this.handleChange,value:this.state.cantidad})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"sucursal"},"Sucursal"),r.a.createElement("select",{className:"form-control",name:"sucursal",id:"sucursal",onChange:this.handleChange,defaultValue:"0"},r.a.createElement("option",{value:"0",disabled:!0},this.state.sucursal),r.a.createElement("option",{value:"ita"},"Ita"),r.a.createElement("option",{value:"sanloren"},"San Lorenzo")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Guardar"))))))),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Detalle de ventas productos"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Factura"),r.a.createElement("th",{scope:"col"},"Cliente"),r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Monto total"))),r.a.createElement("tbody",null,this.state.detalles.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.venta.num_factura),r.a.createElement("td",null,t.venta.cliente),r.a.createElement("td",null,t.producto.nombre),r.a.createElement("td",null,t.cantidad),r.a.createElement("td",null,t.precio),r.a.createElement("td",null,t.venta.monto_total),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.editVenta(t._id)}},"edit")),r.a.createElement("button",{className:"btn btn-danger btn-sm",style:{margin:"4px"}},r.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteVenta(t.venta._id)}},"delete"))))}))))))),r.a.createElement(x.NotificationContainer,null))}}]),t}(n.Component),Y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={email:e.state.email},t.prev=2,t.next=5,y.a.post("http://localhost:4000/api/account/recuperacion",n);case 5:(r=t.sent).data.success?x.NotificationManager.success(r.data.message,"Recuperaci\xf3n"):x.NotificationManager.error(r.data.message,"Recuperaci\xf3n"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x.NotificationManager.error("Ha ocurrido un error","Error");case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}(),e.state={email:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"}),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Recuperaci\xf3n de contrase\xf1a"),r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("label",{htmlFor:"email"},"Correo electr\xf3nico"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Introduzca su email",className:"form-control form-control-sm",required:!0,value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Enviar")))))))),r.a.createElement(x.NotificationContainer,null))}}]),t}(n.Component),$=function(e){var t,a=e.handleSubmitCust,n=e.permisos,c={},s=[];t=!1!==n.success;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Gesti\xf3n de permisos"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();for(var n=0;n<e.target.length;n++)e.target[n].checked&&(c[e.target[n].name]=!0);s.push(c),s.push(t),a(e,s)}},r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("table",{className:"table table-hover table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Recurso"),r.a.createElement("th",{scope:"col"},"Visualizar"),r.a.createElement("th",{scope:"col"},"Crear"),r.a.createElement("th",{scope:"col"},"Editar"),r.a.createElement("th",{scope:"col"},"Eliminar"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de usuarios"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarUsuario",defaultChecked:!!n.visualizarUsuario}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearUsuario",defaultChecked:!!n.crearUsuario}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarUsuario",defaultChecked:!!n.editarUsuario}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarUsuario",defaultChecked:!!n.eliminarUsuario})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de roles"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarRol",defaultChecked:!!n.visualizarRol}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearRol",defaultChecked:!!n.crearRol}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarRol",defaultChecked:!!n.editarRol}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarRol",defaultChecked:!!n.eliminarRol})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de permisos (Admin)"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarPermiso",defaultChecked:!!n.visualizarPermiso})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de clientes"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarCliente",defaultChecked:!!n.visualizarCliente}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearCliente",defaultChecked:!!n.crearCliente}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarCliente",defaultChecked:!!n.editarCliente}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarCliente",defaultChecked:!!n.eliminarCliente})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de proveedores"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarProveedor",defaultChecked:!!n.visualizarProveedor}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearProveedor",defaultChecked:!!n.crearProveedor}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarProveedor",defaultChecked:!!n.editarProveedor}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarProveedor",defaultChecked:!!n.eliminarProveedor})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de clases"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarClase",defaultChecked:!!n.visualizarClase}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearClase",defaultChecked:!!n.crearClase}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarClase",defaultChecked:!!n.editarClase}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarClase",defaultChecked:!!n.eliminarClase})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de reservas"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarReserva",defaultChecked:!!n.visualizarReserva}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearReserva",defaultChecked:!!n.crearReserva}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarReserva",defaultChecked:!!n.editarReserva}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarReserva",defaultChecked:!!n.eliminarReserva})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de m\xe1quinas"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarMaquina",defaultChecked:!!n.visualizarMaquina}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearMaquina",defaultChecked:!!n.crearMaquina}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarMaquina",defaultChecked:!!n.editarMaquina}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarMaquina",defaultChecked:!!n.eliminarMaquina})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de mantenimientos"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarMantenimiento",defaultChecked:!!n.visualizarMantenimiento}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearMantenimiento",defaultChecked:!!n.crearMantenimiento}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarMantenimiento",defaultChecked:!!n.editarMantenimiento}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarMantenimiento",defaultChecked:!!n.eliminarMantenimiento})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gesti\xf3n de productos"),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"visualizarProducto",defaultChecked:!!n.visualizarProducto}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"crearProducto",defaultChecked:!!n.crearProducto}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"editarProducto",defaultChecked:!!n.editarProducto}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"eliminarProducto",defaultChecked:!!n.eliminarProducto}))))))),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Guardar")))))},ee=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(M.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(b.a.mark(function t(a){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState({cargaCustomizado:!1}),e.state.rol){t.next=7;break}e.setState({cargaCustomizado:!1}),x.NotificationManager.error("Seleccione un rol","Error"),t.next=17;break;case 7:return t.prev=7,t.next=10,y.a.get("http://localhost:4000/api/permisos/"+e.state.rol);case 10:n=t.sent,e.setState({permisosRol:n.data,cargaCustomizado:!0}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),x.NotificationManager.error("Ocurri\xf3 un error con la conexi\xf3n al servidor","Error");case 17:case"end":return t.stop()}},t,null,[[7,14]])}));return function(e){return t.apply(this,arguments)}}(),e.handleCust=function(){var t=Object(N.a)(b.a.mark(function t(a,n){var r,c,s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),r={rol:e.state.rol,permisos:n[0]},!n[1]){t.next=15;break}return t.prev=3,t.next=6,y.a.put("http://localhost:4000/api/permisos/"+e.state.rol,r);case 6:(c=t.sent).data.success?x.NotificationManager.success(c.data.message,"Gesti\xf3n de permisos"):x.NotificationManager.error(c.data.message,"Gesti\xf3n de permisos"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),x.NotificationManager.error("Ocurri\xf3 un error en la conexi\xf3n","Error");case 13:t.next=25;break;case 15:return t.prev=15,t.next=18,y.a.post("http://localhost:4000/api/permisos",r);case 18:(s=t.sent).data.success?x.NotificationManager.success(s.data.message,"Gesti\xf3n de permisos"):x.NotificationManager.error(s.data.message,"Gesti\xf3n de permisos"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(15),x.NotificationManager.error("Ocurri\xf3 un error en la conexi\xf3n","Error");case 25:case"end":return t.stop()}},t,null,[[3,10],[15,22]])}));return function(e,a){return t.apply(this,arguments)}}(),e.state={rol:"",roles:[],cargaCustomizado:!1,permisosRol:{},isLoading:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("usertoken");if(e)f()(e).permisos.visualizarPermiso&&(this.setState({isLoading:!0}),y.a.defaults.headers.common.Authorization=e,this.fetchRoles());else this.setState({isLoading:!1})}catch(t){this.setState({isLoading:!1})}}},{key:"fetchRoles",value:function(){var e=Object(N.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:4000/api/rols");case 3:t=e.sent,this.setState({roles:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x.NotificationManager.error("Ocurri\xf3 un error en la conexi\xf3n","Conexi\xf3n");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.cargaCustomizado;return e.isLoading?r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Roles"),r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-sm-10"},r.a.createElement("select",{name:"rol",id:"rol",className:"form-control form-control-sm",onChange:this.handleChange},r.a.createElement("option",{defaultValue:!0},"Elija una opcion"),this.state.roles.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("div",{className:"form-group col-sm-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Siguiente"))))))),r.a.createElement("div",{className:"col-sm-8"},t&&r.a.createElement($,{handleSubmitCust:this.handleCust,permisos:this.state.permisosRol})),r.a.createElement(x.NotificationContainer,null))):r.a.createElement(z,null)}}]),t}(n.Component),te=a(74),ae=a.n(te),ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){ae()("http://localhost:4000")}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:D}),r.a.createElement(p.a,{exact:!0,path:"/signin",component:j}),r.a.createElement(p.a,{exact:!0,path:"/signup",component:P}),r.a.createElement(p.a,{exact:!0,path:"/recuperacion-password",component:Y}),r.a.createElement(p.a,{exact:!0,path:"/profile",component:O}),r.a.createElement(p.a,{exact:!0,path:"/rols",component:A}),r.a.createElement(p.a,{exact:!0,path:"/permisos",component:ee}),r.a.createElement(p.a,{exact:!0,path:"/action-users",component:B}),r.a.createElement(p.a,{exact:!0,path:"/products",component:U}),r.a.createElement(p.a,{exact:!0,path:"/clientes",component:H}),r.a.createElement(p.a,{exact:!0,path:"/proveedores",component:Z}),r.a.createElement(p.a,{exact:!0,path:"/equipos",component:T}),r.a.createElement(p.a,{exact:!0,path:"/mantenimiento",component:J}),r.a.createElement(p.a,{exact:!0,path:"/clases",component:K}),r.a.createElement(p.a,{exact:!0,path:"/reservas",component:Q}),r.a.createElement(p.a,{exact:!0,path:"/sucursales",component:W}),r.a.createElement(p.a,{exact:!0,path:"/venta-producto",component:X}))))}}]),t}(n.Component);s.a.render(r.a.createElement(ne,null),document.getElementById("root"))},75:function(e,t,a){e.exports=a(158)},80:function(e,t,a){},86:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.4d5b3e7d.chunk.js.map